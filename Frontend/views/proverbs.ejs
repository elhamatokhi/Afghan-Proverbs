<%- include('partials/header',{title: "Proverbs"}) %>

<% if(proverbs.length === 0){ %>
<div class="alert alert-info">No posts available.</div>
<% } %>

<div class="main-container">
  <h1>All Proverbs</h1>
    <!-- Filter section -->
  <form method="GET" action="/proverbs" class="filter-form">
    <label for="category">Filter by category:</label>
    <select name="category" id="category" onchange="this.form.submit()">
      <option value="">All</option>
      <option value="wisdom" <%= selectedCategory === 'wisdom' ? 'selected' : '' %>>Wisdom</option>
      <option value="patience" <%= selectedCategory === 'patience' ? 'selected' : '' %>>Patience</option>
      <option value="cooperation" <%= selectedCategory === 'cooperation' ? 'selected' : '' %>>Cooperation</option>
      <option value="community" <%= selectedCategory === 'community' ? 'selected' : '' %>>Community</option>
      <option value="self-responsibility" <%= selectedCategory === 'self-responsibility' ? 'selected' : '' %>>Self Responsibility</option>
    </select>
  </form>

  <ul>
    <% proverbs.forEach((p,index) => { %>
    <li>
      <strong> <%= p.textDari %></strong><br />
      <b> پشتو </b><%= p.textPashto %><br />
      <b>English Translation: </b> <%= p.translation %><br />
      <b>Meaning: </b> <%= p.meaning %><br />
      <b>Category</b> <%= p.category %>
      <div>
      <a href="/edit/<%= p.taskID %>">Edit</a>
      <form action="/proverbs/delete/<%= p.taskID %>" method="POST">
        <button type="submit" onclick="return confirm('Are you sure?')">Delete</button>
      </form>
      </div>
    </li>
    <% }) %>
  </ul>

</div>

<%- include('partials/footer') %>